<!--

     Licensed to the Apache Software Foundation (ASF) under one
     or more contributor license agreements.  See the NOTICE file
     distributed with this work for additional information
     regarding copyright ownership.  The ASF licenses this file
     to you under the Apache License, Version 2.0 (the
     "License"); you may not use this file except in compliance
     with the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing,
     software distributed under the License is distributed on an
     "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
     specific language governing permissions and limitations
     under the License.

-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
    <!-- Generated by groovydoc -->
    <title>JdbcUtils (gpmsi 2.1 API)</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="../../groovy.ico" type="image/x-icon" rel="shortcut icon">
    <link href="../../groovy.ico" type="image/x-icon" rel="icon">
    <link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">

<body class="center">
<script type="text/javascript"><!--
if (location.href.indexOf('is-external=true') == -1) {
    parent.document.title="JdbcUtils (gpmsi 2.1 API)";
}
//-->
</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
    <!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../index-all.html">Index</a></li>
        <li><a href="../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../index.html?fr/gpmsi/JdbcUtils" target="_top">Frames</a></li>
            <li><a href="JdbcUtils.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;<li><a href="#field_summary">Field</a></li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            <li><a href="#field_detail">Field</a></li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <a name="skip-navbar_top">
        <!--   -->
    </a></div>
<!-- ========= END OF TOP NAVBAR ========= -->

<!-- ======== START OF CLASS DATA ======== -->
<div class="header">

    <div class="subTitle">Package: <strong>fr.gpmsi</strong></div>

    <h2 title="[Java] Class JdbcUtils" class="title">[Java] Class JdbcUtils</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><ul class="inheritance"></ul></li><li>fr.gpmsi.JdbcUtils
</ul>
<div class="description">
    <ul class="blockList">
        <li class="blockList">


            <!-- todo: direct known subclasses -->
            <hr>

<pre>public class JdbcUtils
extends java.lang.Object</pre>

    <p> Quelques utilitaire JDBC utiles lorsque la base de données est simple (un seul catalogue,
 un seul schéma).

  <DL><DT><B>Authors:</B></DT><DD>hkaradimas</DD></DL></p>

          </li>
    </ul>
</div>

<div class="summary">
    <ul class="blockList">
        <li class="blockList">
        <!-- =========== NESTED CLASS SUMMARY =========== -->
        

        <!-- =========== ENUM CONSTANT SUMMARY =========== -->
        
        <!-- =========== FIELD SUMMARY =========== -->
        
            <ul class="blockList">
                <li class="blockList"><a name="field_summary"><!--   --></a>
                    <h3>Field Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Enum constants summary table">
                        <caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Modifiers</th>
                            <th class="colLast" scope="col">Name</th>
                            <th class="colLast" scope="col">Description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>static&nbsp;org.apache.logging.log4j.Logger</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#lg">lg</a></code></td>
                            <td class="colLast">Logger log4j</td>
                        </tr>
                        
                    </table>
                   </ul>
                </li>
                
            </ul>
        

        <!-- =========== PROPERTY SUMMARY =========== -->
        

        <!-- =========== ELEMENT SUMMARY =========== -->
        

        
        <!-- ======== CONSTRUCTOR SUMMARY ======== -->
        <ul class="blockList">
                <li class="blockList"><a name="constructor_summary"><!--   --></a>
                    <h3>Constructor Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructors Summary table">
                        <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Constructor and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst">
                                <code><strong><a href="#JdbcUtils()">JdbcUtils</a></strong>()</code><br>Constructeur par défaut</td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
        </ul>
        

        
        <!-- ========== METHOD SUMMARY =========== -->
        <ul class="blockList">
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Methods Summary table">
                        <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type Params</th>
                            <th class="colLast" scope="col">Return Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>public&nbsp;static&nbsp;final&nbsp;boolean</code></td>
                            <td class="colLast"><code><strong><a href="#columnExists(java.sql.Connection, java.lang.String, java.lang.String, boolean)">columnExists</a></strong>(java.sql.Connection cxn, java.lang.String tableName, java.lang.String columnName, boolean caseSensitive)</code><br>Est-ce que la colonne existe ?</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>public&nbsp;static&nbsp;int</code></td>
                            <td class="colLast"><code><strong><a href="#getTypeNumber(java.lang.String)">getTypeNumber</a></strong>(java.lang.String typeName)</code><br>Retourner le numéro de type de données JDBC pour le nom de type donné. </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>public&nbsp;static&nbsp;final&nbsp;boolean</code></td>
                            <td class="colLast"><code><strong><a href="#indexExists(java.sql.Connection, java.lang.String, java.lang.String, boolean)">indexExists</a></strong>(java.sql.Connection cxn, java.lang.String tableName, java.lang.String indexName, boolean caseSensitive)</code><br>Fonction pour tester si un index existe.
 </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>public&nbsp;static&nbsp;java.sql.Timestamp</code></td>
                            <td class="colLast"><code><strong><a href="#now()">now</a></strong>()</code><br>Créer un timestamp avec la date / heure courante</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>public&nbsp;static&nbsp;java.lang.Object</code></td>
                            <td class="colLast"><code><strong><a href="#parseText(java.lang.String, java.lang.String, java.lang.String, java.lang.String, Map, java.util.Locale)">parseText</a></strong>(java.lang.String text, java.lang.String sqlType, java.lang.String dataFormat, java.lang.String columnName, java.util.Map&lt;java.lang.String, java.lang.Object&gt; formatsCache, java.util.Locale loc)</code><br>Analyser les principaux formats de donnée pour convertir un texte en objet utilisable dans une instruction jdbc.
 </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>public&nbsp;static&nbsp;final&nbsp;boolean</code></td>
                            <td class="colLast"><code><strong><a href="#tableExists(java.sql.Connection, java.lang.String, boolean)">tableExists</a></strong>(java.sql.Connection cxn, java.lang.String name, boolean caseSensitive)</code><br>Fonction utilitaire pour trouver si une table existe dans la base de données dont la
 connexion est donnée.</td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Inherited Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Inherited Methods Summary table">
                        <caption><span>Inherited Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Methods inherited from class</th>
                            <th class="colLast" scope="col">Name</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>class java.lang.Object</code></td>
                            <td class="colLast"><code>java.lang.Object#wait(long), java.lang.Object#wait(long, int), java.lang.Object#wait(), java.lang.Object#equals(java.lang.Object), java.lang.Object#toString(), java.lang.Object#hashCode(), java.lang.Object#getClass(), java.lang.Object#notify(), java.lang.Object#notifyAll()</code></td>
                        </tr>
                    </table>
                   </ul>
              </li>
                
        </ul>
        
    </li>
    </ul>
</div>

<div class="details">
    <ul class="blockList">
        <li class="blockList">
           

            
            <!-- =========== FIELD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="field_detail">
                    <!--   -->
                </a>
                    <h3>Field Detail</h3>
                    
                        <a name="lg"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>public&nbsp;static&nbsp;org.apache.logging.log4j.Logger <strong>lg</strong></h4>
                                <p> Logger log4j </p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            

            

            

            
            <!-- =========== CONSTRUCTOR DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="constructor_detail">
                    <!--   -->
                </a>
                    <h3>Constructor Detail</h3>
                    
                        <a name="JdbcUtils()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>public&nbsp;<strong>JdbcUtils</strong>()</h4>
                                <p> Constructeur par défaut
   </p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            


            
            <!-- =========== METHOD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="method_detail">
                    <!--   -->
                </a>
                    <h3>Method Detail</h3>
                    
                        <a name="columnExists(java.sql.Connection, java.lang.String, java.lang.String, boolean)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>public&nbsp;static&nbsp;final&nbsp;boolean <strong>columnExists</strong>(java.sql.Connection cxn, java.lang.String tableName, java.lang.String columnName, boolean caseSensitive)</h4>
                                <p> Est-ce que la colonne existe ?<DL><DT><B>throws:</B></DT><DD>SQLException -</DD></DL>
    <DL><DT><B>Parameters:</B></DT><DD><code>cxn</code> -  La connexion Jdbc</DD><DD><code>tableName</code> -  Le nom de la table</DD><DD><code>columnName</code> -  Le nom de la colonne</DD><DD><code>caseSensitive</code> -  Est-ce que la comparaison doit être sensible à la casse ?</DD></DL><DL><DT><B>Returns:</B></DT><DD>true si la colonne existe</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getTypeNumber(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>public&nbsp;static&nbsp;int <strong>getTypeNumber</strong>(java.lang.String typeName)</h4>
                                <p> Retourner le numéro de type de données JDBC pour le nom de type donné. Le nom doit être en majuscules.
    <DL><DT><B>See Also:</B></DT><DD>java.sql.Types</DD></DL><DL><DT><B>Parameters:</B></DT><DD><code>typeName</code> -  Le nom de type sql. Doit être impérativement en majuscules.</DD></DL><DL><DT><B>Returns:</B></DT><DD>Le numéro de type java.sql.Types ou Integer.MIN_VALUE si le nom ne correspond à aucun des types prédéfinis dans cette classe.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="indexExists(java.sql.Connection, java.lang.String, java.lang.String, boolean)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>public&nbsp;static&nbsp;final&nbsp;boolean <strong>indexExists</strong>(java.sql.Connection cxn, java.lang.String tableName, java.lang.String indexName, boolean caseSensitive)</h4>
                                <p> Fonction pour tester si un index existe.
 Marche bien pour une base H2, à tester plus en profondeur pour d'autres
 types de bases.<DL><DT><B>throws:</B></DT><DD>SQLException si erreur bdd</DD></DL>
    <DL><DT><B>Parameters:</B></DT><DD><code>cxn</code> -  la connexion</DD><DD><code>tableName</code> -  Le nom de la table</DD><DD><code>indexName</code> -  Le nom de l'index</DD><DD><code>caseSensitive</code> -  True si la recherche doit être sensible à la casse</DD></DL><DL><DT><B>Returns:</B></DT><DD>true si index existe</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="now()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>public&nbsp;static&nbsp;java.sql.Timestamp <strong>now</strong>()</h4>
                                <p> Créer un timestamp avec la date / heure courante
    <DL><DT><B>Returns:</B></DT><DD>Le timestamp</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="parseText(java.lang.String, java.lang.String, java.lang.String, java.lang.String, Map, java.util.Locale)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>public&nbsp;static&nbsp;java.lang.Object <strong>parseText</strong>(java.lang.String text, java.lang.String sqlType, java.lang.String dataFormat, java.lang.String columnName, java.util.Map&lt;java.lang.String, java.lang.Object&gt; formatsCache, java.util.Locale loc)</h4>
                                <p> Analyser les principaux formats de donnée pour convertir un texte en objet utilisable dans une instruction jdbc.
 Pour cela on doit fournir en plus du texte à analyser le nom du type sql visé, et éventuellement le format qu'on désire,
 si ce n'est pas le type par défaut.
 Exemple d'utilisation :
 <pre>
 //Convertir un objet en vue d'une utilisation dans Jdbc
 HashMap&lt;String, Object&gt; formatterCache = new HashMap&lt;String, Object&gt;();
  Object obj1 = JdbcUtils.parseText("2025-03-21T15:59:03.5", "TIMESTAMP", null, "mycol", formatterCache, null);
 </pre><DL><DT><B>throws:</B></DT><DD>ParseException si il y a une erreur d'analyse de nombre</DD></DL>
    <DL><DT><B>See Also:</B></DT><DD>java.time.format.DateTimeFormatter</DD></DL><DL><DT><B>Parameters:</B></DT><DD><code>text</code> -  Le texte à convertir</DD><DD><code>sqlType</code> -  Le type sql qui est désiré</DD><DD><code>dataFormat</code> -  Le format spécial de donnée qui doit être utilisé (peut être null, auquel cas un format par défaut est choisi,
 DecimalFormat.getInstance() ou DateTimeFormatter.ISO_OFFSET_DATE_TIME ou DateTimeFormatter.ISO_OFFSET_DATE ou DateTimeFormatter.ISO_OFFSET_TIME)</DD><DD><code>columnName</code> -  Le nom de colonne (sert au stockage du format analysé dans le cache des formats)</DD><DD><code>formatsCache</code> -  Une Map qui sert à stocker les formats déjà analysés, pour ne pas les réanalyser à chaque appel</DD><DD><code>loc</code> -  la Locale à utiliser, si null on utilise la Locale du système. Parfois on veut changer de Locale, par exemple lorsque les nombres sont au format américain.</DD></DL><DL><DT><B>Returns:</B></DT><DD>l'objet qui correspond à la conversion ou null si il y a eu une erreur lors de la conversion. L'erreur est envoyée avec le niveau DEBUG dans le log</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="tableExists(java.sql.Connection, java.lang.String, boolean)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>public&nbsp;static&nbsp;final&nbsp;boolean <strong>tableExists</strong>(java.sql.Connection cxn, java.lang.String name, boolean caseSensitive)</h4>
                                <p> Fonction utilitaire pour trouver si une table existe dans la base de données dont la
 connexion est donnée.<DL><DT><B>throws:</B></DT><DD>SQLException Si erreur de bdd</DD></DL>
    <DL><DT><B>Parameters:</B></DT><DD><code>cxn</code> -  La connexion de base de données</DD><DD><code>name</code> -  Le nom de la table</DD><DD><code>caseSensitive</code> -  True si la casse doit être identique, False sinon.</DD></DL><DL><DT><B>Returns:</B></DT><DD>True si la table existe dans la base, False sinon</DD></DL></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            
        </li>
    </ul>
</div>

<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
    <!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../index-all.html">Index</a></li>
        <li><a href="../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../index.html?fr/gpmsi/JdbcUtils" target="_top">Frames</a></li>
            <li><a href="JdbcUtils.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;<li><a href="#field_summary">Field</a></li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            <li><a href="#field_detail">Field</a></li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <p>Groovy Documentation</p>
    <a name="skip-navbar_bottom">
        <!--   -->
    </a>
    </div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
